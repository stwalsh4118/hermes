# [10-6] Next Up Component (Mock Data)

[Back to task list](./tasks.md)

## Description

Show upcoming program preview with mock/placeholder data. This component displays the next program that will play, including thumbnail, title, brief info, and "starts in" countdown. The data structure matches the EPG API shape for easy integration later.

## Status History

| Timestamp | Event Type | From Status | To Status | Details | User |
|-----------|------------|-------------|-----------|---------|------|
| 2025-10-31 00:00:00 | Created | N/A | Proposed | Task file created | AI_Agent |

## Requirements

### Functional Requirements
- Display next program thumbnail
- Display program title
- Show brief episode info
- Display "starts in" countdown or absolute time
- Use mock data matching EPG API structure
- Retro styling consistent with app theme

### Technical Requirements
- Create `web/components/video/next-up.tsx`
- Mock data structure matches EPG Program model
- Add clear TODO comment for EPG integration
- Use existing UI components
- Responsive layout

## Implementation Plan

### Step 1: Define mock data
```typescript
// TODO: Replace with EPG API when PBI-5 is complete
const mockNextProgram: EPGProgram = {
  channel_id: "...",
  media_id: "...",
  title: "The Office - Pilot",
  description: "A documentary crew...",
  start_time: new Date(Date.now() + 30 * 60 * 1000).toISOString(),
  end_time: new Date(Date.now() + 60 * 60 * 1000).toISOString(),
  season: 1,
  episode: 1,
  icon: "/placeholder-thumbnail.jpg"
};
```

### Step 2: Create component structure
```
web/components/video/next-up.tsx
```

### Step 3: Implement UI layout
- Compact card design
- Thumbnail (smaller than Now Playing)
- Title and brief info
- "Starts in" or "Up next at" display
- Arrow or "Next" indicator

### Step 4: Implement countdown/time display
```typescript
const formatStartsIn = (startTime: string) => {
  const diff = new Date(startTime).getTime() - Date.now();
  const minutes = Math.floor(diff / 60000);
  
  if (minutes < 60) {
    return `Starts in ${minutes} min`;
  } else {
    return `Up next at ${new Date(startTime).toLocaleTimeString()}`;
  }
};
```

### Step 5: Add retro styling
- Border and shadow effects
- Accent color to differentiate from Now Playing
- VCR font for title
- Subtle animation or glow effect

## Test Plan

### Objective
Verify the Next Up component displays upcoming program information correctly with mock data.

### Test Scope
- Mock data display
- Time calculation
- Responsive layout
- Retro styling

### Success Criteria
- Next program title displays
- Start time formatted correctly
- Thumbnail shows
- Layout responsive
- Mock data structure matches EPG API

## Verification

### Acceptance Criteria
- [ ] Component created at `web/components/video/next-up.tsx`
- [ ] Mock data structure matches EPG Program
- [ ] Program title displayed
- [ ] Episode info displayed
- [ ] Thumbnail displayed
- [ ] "Starts in" or "Up next at" displayed
- [ ] Time updates dynamically
- [ ] TODO comment added for EPG integration
- [ ] Retro styling applied
- [ ] Responsive layout works
- [ ] No console errors

### Definition of Done
- All acceptance criteria met
- Component renders with mock data
- Ready for EPG API integration
- Styling matches app theme

## Files Modified

### New Files Created
- `web/components/video/next-up.tsx` - Next Up component

### Modified Files
- `web/components/video/index.ts` - Add export

### API Specifications Updated
- `docs/api-specs/frontend/frontend-api.md` - Document NextUp component

## Notes

- Countdown should update every minute
- Consider showing absolute time if > 60 minutes away
- Thumbnail aspect ratio: 16:9
- Position below Now Playing component
- Consider adding transition animation when program changes
- EPG API will provide real data in PBI-5


