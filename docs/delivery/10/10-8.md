# [10-8] Responsive Layout Implementation

[Back to task list](./tasks.md)

## Description

Implement comprehensive responsive layouts for mobile, tablet, and desktop viewports. Ensure the video player, controls, and EPG components adapt appropriately to different screen sizes while maintaining 16:9 video aspect ratio and providing optimal viewing experience on all devices.

## Status History

| Timestamp | Event Type | From Status | To Status | Details | User |
|-----------|------------|-------------|-----------|---------|------|
| 2025-10-31 00:00:00 | Created | N/A | Proposed | Task file created | AI_Agent |

## Requirements

### Functional Requirements
- Desktop layout: video + sidebar side-by-side, now playing below video
- Mobile layout: video full-width, collapsible schedule below
- Tablet layout: appropriate adaptation between mobile and desktop
- 16:9 aspect ratio maintained across all viewports
- Touch-friendly controls on mobile/tablet
- Optimal spacing and readability on all devices

### Technical Requirements
- Use Tailwind responsive breakpoints (sm: 640px, md: 768px, lg: 1024px, xl: 1280px)
- CSS Grid or Flexbox for layouts
- Aspect ratio utility for video container
- Test on multiple viewport sizes
- Use existing `useMobile()` hook where needed

## Implementation Plan

### Step 1: Define responsive breakpoints
- Mobile: < 768px (md)
- Tablet: 768px - 1024px (md to lg)
- Desktop: > 1024px (lg+)

### Step 2: Implement desktop layout
```tsx
// Desktop (lg+)
<div className="grid lg:grid-cols-[1fr_400px] gap-6">
  <div className="space-y-4">
    <VideoPlayer />
    <NowPlaying />
    <NextUp />
  </div>
  <ScheduleSidebar />
</div>
```

### Step 3: Implement mobile layout
```tsx
// Mobile (< md)
<div className="flex flex-col">
  <VideoPlayer />
  <NowPlaying />
  <NextUp />
  <ScheduleSheet /> {/* Bottom sheet */}
</div>
```

### Step 4: Implement tablet layout
```tsx
// Tablet (md to lg)
<div className="flex flex-col md:grid md:grid-cols-2 lg:grid-cols-[1fr_400px]">
  {/* Adaptive layout */}
</div>
```

### Step 5: Ensure video aspect ratio
```tsx
<div className="aspect-video w-full">
  <VideoPlayer />
</div>
```

### Step 6: Adjust component spacing
- Desktop: generous padding and gaps
- Mobile: minimal padding, maximize content space
- Tablet: medium padding

### Step 7: Test on various viewport sizes
- iPhone SE (375px)
- iPhone 12/13 (390px)
- iPad (768px)
- iPad Pro (1024px)
- Desktop (1280px, 1920px)

## Test Plan

### Objective
Verify the player interface adapts correctly to all screen sizes and provides optimal viewing experience.

### Test Scope
- Layout adaptation at breakpoints
- Video aspect ratio maintenance
- Component visibility and positioning
- Touch interactions on mobile
- Readability and usability

### Success Criteria
- Desktop shows video + sidebar side-by-side
- Mobile shows stacked layout with bottom sheet
- Tablet shows appropriate intermediate layout
- 16:9 aspect ratio maintained on all screens
- All components accessible and usable
- No horizontal scrolling on any device
- Touch targets are large enough on mobile
- Text is readable on all devices

## Verification

### Acceptance Criteria
- [ ] Desktop layout implemented (video + sidebar)
- [ ] Mobile layout implemented (stacked + sheet)
- [ ] Tablet layout implemented (adaptive)
- [ ] Video maintains 16:9 aspect ratio
- [ ] Tested on mobile viewport (< 768px)
- [ ] Tested on tablet viewport (768-1024px)
- [ ] Tested on desktop viewport (> 1024px)
- [ ] No horizontal scrolling
- [ ] Controls accessible on all devices
- [ ] Touch targets appropriate size (min 44x44px)
- [ ] Spacing consistent and appropriate
- [ ] Breakpoints transition smoothly
- [ ] No layout shift or jank

### Definition of Done
- All acceptance criteria met
- Tested on real devices or dev tools
- Layout adapts smoothly at breakpoints
- Ready for final testing and polish

## Files Modified

### Modified Files
- `web/app/channels/[id]/page.tsx` - Implement responsive grid layout
- All video component files - Add responsive classes as needed

### API Specifications Updated
- `docs/api-specs/frontend/frontend-api.md` - Document responsive layout patterns

## Notes

- Use Tailwind aspect-video utility: `className="aspect-video"`
- Mobile-first approach: base styles for mobile, then md:, lg:, xl: modifiers
- Consider landscape orientation on mobile (rotate controls)
- Schedule sidebar min-width: 300px, max-width: 400px
- Video should be full-width within its container
- Consider safe area insets for notched devices
- Test with browser dev tools device emulation
- Test with actual devices if available
- Consider adding orientation lock hint for mobile


