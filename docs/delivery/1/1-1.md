# [1-1] Initialize Go Project Structure

[Back to task list](./tasks.md)

## Description

Create the foundational Go project structure following best practices for a web service application. This includes setting up the directory hierarchy, initializing the Go module with Go 1.25+, creating the main entry point, and configuring version control exclusions.

This task establishes the organizational framework that all subsequent development will build upon, ensuring a clean separation of concerns between API handlers, business logic, data access, and infrastructure code.

## Status History

| Timestamp | Event Type | From Status | To Status | Details | User |
|-----------|------------|-------------|-----------|---------|------|
| 2025-10-26 12:00:00 | Created | N/A | Proposed | Task file created | AI_Agent |

## Requirements

### Functional Requirements
- Create standard Go project directory structure (cmd/, internal/, pkg/, migrations/)
- Initialize go.mod with Go version 1.25
- Create main.go entry point in cmd/server/
- Add .gitignore file with appropriate exclusions for Go projects
- Ensure the project can be built with `go build`

### Technical Requirements
- Go 1.25+ must be installed on the system
- Project module name: `github.com/username/hermes` (or appropriate module path)
- Directory structure must follow Go community conventions
- Must support building a single binary from cmd/server/main.go

### Directory Structure to Create
```
hermes/
├── cmd/
│   └── server/
│       └── main.go           # Application entry point
├── internal/
│   ├── api/                  # HTTP handlers (to be populated in later tasks)
│   ├── models/               # Data models (to be populated in later tasks)
│   ├── db/                   # Database operations (to be populated in later tasks)
│   ├── config/               # Configuration management (to be populated in later tasks)
│   └── middleware/           # HTTP middleware (to be populated in later tasks)
├── migrations/               # Database migration files (to be populated in later tasks)
├── pkg/                      # Public packages (if needed)
├── .gitignore                # Git exclusions
├── go.mod                    # Go module definition
├── go.sum                    # Dependency checksums (generated)
└── README.md                 # Project documentation
```

## Implementation Plan

### Step 1: Verify Go Version
- Check that Go 1.25+ is installed using `go version`
- If not installed, document the installation requirement

### Step 2: Create Directory Structure
- Create all required directories: cmd/server/, internal/{api,models,db,config,middleware}/, migrations/, pkg/
- Use `mkdir -p` to create nested directories

### Step 3: Initialize Go Module
- Run `go mod init github.com/username/hermes` (adjust module path as needed)
- Verify go.mod file is created with correct Go version directive

### Step 4: Create Main Entry Point
- Create cmd/server/main.go with minimal functional code:
  - Package main declaration
  - Main function that prints a startup message
  - Placeholder for future server initialization

### Step 5: Create .gitignore
- Add standard Go exclusions:
  - Compiled binaries
  - Test coverage files
  - IDE/editor specific files
  - OS-specific files
  - Database files (*.db)
  - Log files (*.log)

### Step 6: Create Initial README
- Document project purpose
- List prerequisites (Go 1.25+, SQLite3)
- Basic build instructions
- Placeholder sections for configuration and deployment

### Step 7: Verify Build
- Run `go build ./cmd/server` to ensure project compiles
- Run the compiled binary to verify it executes

## Test Plan

This is a foundational setup task with straightforward verification requirements.

### Success Criteria
1. All directories exist as specified
2. `go.mod` file contains `go 1.25` directive
3. `cmd/server/main.go` exists and contains valid Go code
4. `.gitignore` file exists with appropriate exclusions
5. `go build ./cmd/server` executes without errors
6. Compiled binary runs without crashing
7. `README.md` exists with basic project information

### Manual Verification Steps
```bash
# Verify directory structure
ls -la cmd/server internal/ migrations/

# Verify Go module
cat go.mod | grep "go 1.25"

# Verify build
go build ./cmd/server
./server  # Should print startup message and exit cleanly

# Verify git exclusions
cat .gitignore | grep "*.db"
```

## Verification

### Acceptance Criteria
- [ ] Directory structure created as specified
- [ ] go.mod initialized with Go 1.25
- [ ] main.go created with package main and main() function
- [ ] .gitignore file contains all necessary exclusions
- [ ] README.md exists with project documentation
- [ ] `go build ./cmd/server` succeeds
- [ ] Compiled binary executes without errors

### Definition of Done
- All acceptance criteria met
- Project structure follows Go best practices
- Code compiles without errors or warnings
- README documents the project purpose and setup steps

## Files Modified

### New Files Created
- `go.mod` - Go module definition
- `cmd/server/main.go` - Application entry point
- `.gitignore` - Version control exclusions
- `README.md` - Project documentation
- All directory structure as specified above

### Files Modified
- None (this is initial setup)

## Notes

- This task does NOT include adding dependencies - that's handled in task 1-2
- The main.go file at this stage is just a placeholder that can be built
- Actual server functionality will be added in later tasks
- Module path should be adjusted based on actual repository location

